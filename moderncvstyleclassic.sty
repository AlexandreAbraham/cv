% start of file `moderncvstyleclassic.sty'.
%% Copyright 2006 Xavier Danaux.
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License version 1.3c,
% available at http://www.latex-project.org/lppl/.


%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{moderncvstyleclassic}[2006/09/09 v0.5 modern curriculum vitae style: classic]


%-------------------------------------------------------------------------------
%                required packages
%-------------------------------------------------------------------------------


%-------------------------------------------------------------------------------
%                package options
%-------------------------------------------------------------------------------
% nocolor option
\newif\if@color\@colortrue
\DeclareOption{nocolor}{\@colorfalse}

% roman option
\newif\if@roman\@romanfalse
\DeclareOption{roman}{\@romantrue}

% unused options
\DeclareOption*{
  \PackageWarning{moderncvstyleclassic}{Unknown option ‘\CurrentOption’}}

% execute default options
\ExecuteOptions{color}

% process given options
\ProcessOptions\relax


%-------------------------------------------------------------------------------
%                style definition
%-------------------------------------------------------------------------------
% symbols used
\renewcommand*{\listitemsymbol}{\textbullet}

% colors
\if@color
  \definecolor{firstnamecolor}{rgb}{0.65,0.65,0.65}
  \definecolor{familynamecolor}{rgb}{0.45,0.45,0.45}
  \definecolor{titlecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{addresscolor}{rgb}{0.25,0.5,0.75}
  \definecolor{quotecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{sectionrectanglecolor}{rgb}{0.25,0.5,0.75}
  \definecolor{sectiontitlecolor}{rgb}{0.2,0.4,0.65}
\else
  \definecolor{firstnamecolor}{rgb}{0,0,0}
  \definecolor{familynamecolor}{rgb}{0,0,0}
  \definecolor{titlecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{addresscolor}{rgb}{0.35,0.35,0.35}
  \definecolor{quotecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{sectionrectanglecolor}{rgb}{0.75,0.75,0.75}
  \definecolor{sectiontitlecolor}{rgb}{0.35,0.35,0.35}\fi

% fonts
\if@roman
  \AtBeginDocument{\rmfamily}
\else
  \AtBeginDocument{\sffamily}\fi
\renewcommand*{\ttdefault}{pcr}
\renewcommand*{\firstnamefont}{\fontsize{30}{32}\sffamily\mdseries\upshape}
\renewcommand*{\titlefont}{\LARGE\sffamily\mdseries\slshape}
\renewcommand*{\addressfont}{\rmfamily\mdseries\slshape}
\renewcommand*{\familynamefont}{\firstnamefont}
\renewcommand*{\quotefont}{\large\slshape}
\renewcommand*{\sectionfont}{\Large\sffamily\mdseries\upshape}
\renewcommand*{\subsectionfont}{\normalsize\sffamily\mdseries\upshape}

% styles

% maketitle
\renewcommand*{\maketitle}{%
  \begin{minipage}[b]{.5\textwidth}%
    \firstnamestyle{\@firstname~ \vspace{5pt}}\\%
    \familynamestyle{\@familyname}%
    \ifthenelse{\equal{\@title}{}}%
      {}%
      {\\[1.25em]\titlestyle{\@title}}%
  \end{minipage}%
  \hfill%
  \begin{minipage}[b]{.35\textwidth}%
    \raggedleft\addressfont\color{addresscolor}\@address\\[0.2em]%
    \Mobilefone~\@phone\\[.2em]%
    \Email~\emaillink{\@email}%
    \ifthenelse{\equal{\@extrainfo}{}}%
      {}%
      {\\[0.2em]\@extrainfo}
  \end{minipage}%
  \ifthenelse{\equal{\@photo}{}}%
    {}%
    {\hspace*{1em}\color{firstnamecolor}\framebox{\includegraphics[height=\@photoheight]{\@photo}}}\\[3em]}

% usage : \cventry{years}{degree/job title}{institution/employer}{localization}{optionnal: grade/...}{optional: comment/job description}
\newlength{\mywidth}
\setlength{\mywidth}{\maincolumnwidth}
%\addtolength{\mywidth}{-\hintscolumnwidth}
\renewcommand{\cventry}[6]{%
  \cvitem{#1}{%
  \begin{minipage}[t]{0.7\mywidth}%
    {\bfseries#2}%
  \end{minipage}%
  \hfill%
  \begin{minipage}[t]{0.3\mywidth}%
  \begin{flushright}%
  	{\small#3}
    %\ifthenelse{\equal{#3}{}}{}{\small#3}\\%
	\end{flushright}%
  \end{minipage}%
	\\%
  \begin{minipage}[t]{0.7\mywidth}%
    \ifthenelse{\equal{\small #5}{}}{}{\small #5}%
  \end{minipage}%
  \hfill%
  \begin{minipage}[t]{0.3\mywidth}%
  \begin{flushright}%
    \ifthenelse{\equal{#4}{}}{}{\small\slshape#4}%
	\end{flushright}%
  \end{minipage}%
    \ifthenelse{\equal{#6}{}}{}{\\\begin{minipage}[t]{\textwidth}\small#6\end{minipage}}}%
  \vspace{2pt}
    }

\setlength{\separatorcolumnwidth}{1.5\separatorcolumnwidth}
\setlength{\doubleitemmaincolumnwidth}{.8\doubleitemmaincolumnwidth}

\endinput
%\setlength{\separatorcolumnwidth}{0.05\textwidth}

%% end of file `moderncvstyleclassic.sty'.
